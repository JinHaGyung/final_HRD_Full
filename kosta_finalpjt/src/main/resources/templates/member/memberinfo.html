<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript">
const home = (type) => {
	if (type == 'admin') {
		location.href='/index_admin';
	} else if (type == 'emp') {
		location.href='/index_emp';
	} else {
		location.href='/';
	}
}
const membereditbtn = (userid) => {
	location.href='/member/memberedit?id=' + userid;
}
</script>
</head>
<body>
	<h3>내 정보 페이지</h3>
	<table border="1">
	<tr><th>사원번호</th><td th:text="${mdto?.memberid }"></td></tr>
	<tr><th>생년월일</th><td th:text="${mdto?.birthdt }"></td></tr>
	<tr><th>이메일</th><td th:text="${mdto?.email }"></td></tr>
	<tr><th>개인전화번호</th><td th:text="${mdto?.cpnum }"></td></tr>
	<tr><th>주소</th><td th:text="${mdto?.address }"></td></tr>
	<tr>
	<th>사원이미지</th>
	<td>
	<img th:src="@{/member/memberimg(memberimgnm=${mdto?.memberimgnm })}" style="width:150px;height:150px"><br/>
	</td>
	</tr>
	<tr><th>입사일</th><td th:text="${mdto?.hiredt }"></td></tr>
	<tr th:if="${user.aprov == 3 }"><th>퇴사일</th><td th:text="${mdto?.leavedt }"></td></tr>
	<tr><th>부서</th><td th:text="${mdto?.deptid?.deptnm }"></td></tr>
	<tr><th>부서장</th><td th:text="${mdto?.mgrid?.memberid }"></td></tr>
	<tr><th>직급</th><td th:text="${mdto?.joblvid?.joblvnm }"></td></tr>
	</table>
	
	<table border="1">
	<tr>
	<th>학력경력pk</th>
	<th>사원번호</th>
	<th>학력경력종류</th>
	<th>입학일</th>
	<th>졸업일</th>
	<th>학력</th>
	<th>세부정보</th>
	<th>현재상태</th>
	</tr>
	<tr th:if="${edulist != null }" th:each="e:${edulist }">
		<td th:text="${e?.eweid }"></td>
		<td th:text="${e?.memberid?.memberid }"></td>
		<td th:text="${e?.type }"></td>
		<td th:text="${e?.startdt }"></td>
		<td th:text="${e?.enddt }"></td>
		<td th:text="${e?.ewenm1 }"></td>
		<td th:text="${e?.ewenm2 }"></td>
		<td th:text="${e?.state }"></td>
	</tr>
	<tr>
	<th>학력경력pk</th>
	<th>사원번호</th>
	<th>학력경력종류</th>
	<th>입사일</th>
	<th>퇴사일</th>
	<th>학력</th>
	<th>세부정보</th>
	<th>현재상태</th>
	</tr>
	<tr th:if="${expwoklist != null }" th:each="e:${expwoklist }">
		<td th:text="${e?.eweid }"></td>
		<td th:text="${e?.memberid?.memberid }"></td>
		<td th:text="${e?.type }"></td>
		<td th:text="${e?.startdt }"></td>
		<td th:text="${e?.enddt }"></td>
		<td th:text="${e?.ewenm1 }"></td>
		<td th:text="${e?.ewenm2 }"></td>
		<td th:text="${e?.state }"></td>
	</tr>
	</table>
	<div th:if="${session.loginId == user.id } or ${session.type == 'admin' }">
	<input id="membereditid" type="button" value="내정보수정페이지이동버튼" th:onclick="membereditbtn([[${user.id }]])"><br/>
	</div>
	<input type="hidden" name="id" th:value="${user.id }"><br/>
	<input type="button" value="뒤로가기버튼" onclick="history.back()"><br/>
	<input type="button" value="홈버튼" th:onclick="home([[${session.type }]])"><br/>
</body>
</html>