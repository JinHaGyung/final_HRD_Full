<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript">
const home = (type) => {
	if (type == 'admin') {
		location.href='/index_admin';
	} else if (type == 'emp') {
		location.href='/index_emp';
	} else {
		location.href='/';
	}
}
</script>
</head>
<body>
<h3>직원 목록 페이지</h3>

<form th:action="@{/member/getdeptby}" method="post">
<table border="1">
<tr>
<td>
<select name="type">
<option th:value="1" th:selected="${type == 1 }">부서이름</option>
<option th:value="2" th:selected="${type == 2 }">직원이름</option>
<option th:value="3" th:selected="${type == 3 }">직급</option>
</select>
</td>
<td>
<input type="text" name="val" th:value="${param.val }">
<input type="submit" value="검색">
</td>
</tr>
</table>
</form>

<table border="1">
<tr><th>직원계정</th><th>직원이름</th><th>직원 승인 상태</th><th>이메일</th><th>부서</th><th>직급</th></tr>
<tr th:if="${mlist != null }" th:each="m:${mlist }">
	<td th:text="${m?.userid?.id }"></td>
	<td><a href="member/memberinfo.html" th:href="@{/member/memberinfo(id=${m?.userid?.id})}" th:text="${m?.userid?.usernm }">usernm</a></td>
	<td th:text="${m?.userid?.aprov }"></td>
	<td th:text="${m?.email }"></td>
	<td th:text="${m?.deptid?.deptid }"></td>
	<td th:text="${m?.joblvid?.joblvid }"></td>
</tr>
</table>
<input type="button" value="뒤로가기버튼" th:onclick="history.back()"><br/>
<input type="button" value="홈버튼" th:onclick="home([[${session.type }]])"><br/>
</body>
</html>