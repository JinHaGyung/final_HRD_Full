<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript">
const home = (type) => {
	if (type == 'admin') {
		location.href='/index_admin';
	} else if (type == 'emp') {
		location.href='/index_emp';
	} else {
		location.href='/';
	}
}
</script>
</head>
<body>
<h3>부서 목록 페이지</h3>
<form th:action="@{/corp/getdeptby}" method="post">
<table border="1">
<tr>
<td>
<select name="type">
<option th:value="1" th:selected="${type == 1 }">부서이름</option>
<option th:value="2" th:selected="${type == 2 }">부서장</option>
</select>
</td>
<td>
<input type="text" name="val" th:value="${param.val }">
</td>
</tr>
</table>
<input type="submit" value="검색">
</form>

<table border="1">
<tr>
<th>deptid</th><th>deptnm</th><th>mgrid</th>
</tr>
<tr th:each="dl:${dlist }">
<td th:text="${dl.deptid }"></td>
<td><a href="corp/deptinfo.html" th:href="@{/corp/deptinfo(deptid=${dl.deptid})}" th:text="${dl.deptnm}">deptnm</a></td>
<td th:text="${dl.mgrid.memberid }"></td>
</tr>
</table>

<input type="button" value="부서추가페이지이동버튼" onclick="location.href='/admin/corp/deptadd'"><br/>
<input type="button" value="뒤로가기버튼" onclick="history.back()"><br/>
<input type="button" value="홈버튼" th:onclick="home([[${session.type }]])"><br/>
</body>
</html>